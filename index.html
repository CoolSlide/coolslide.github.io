<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

    <script>
        var putHtml2iframe = function(id, html){
            var ifrm = document.getElementById(id);
            ifrm = ifrm.contentWindow ? ifrm.contentWindow : (ifrm.contentDocument.document) ? ifrm.contentDocument.document : ifrm.contentDocument;
            ifrm.document.open();
            ifrm.document.write(html);
            ifrm.document.close();
        };
    </script>

    <style>
        #mdDiv {
            position: absolute;
            top: 0px;
            left: 0px;
            height: 650px;
            width: 300px;
            background-color: blue;
        }

        #mdText {
            position: absolute;
            top: 0px;
            left: 0px;
            margin: 10px 10px 10px 10px;
            padding: 3px 3px 3px 3px;
            height: 630px;
            width: 280px;
            font-size: 18px;
        }

        #mdBtn {
            position: absolute;
            right: 20px;
            bottom: 20px;
            font-size: 18px;
        }

        #htmlDiv {
            position: absolute;
            top: 0px;
            left: 300px;
            height: 650px;
            width: 1130px;
        }

        #htmlFrame {
            position: absolute;
            top: 0px;
            left: 0px;
            margin: 10px 10px 10px 10px;
            padding: 0px 0px 0px 0px;
            height: 630px;
            width: 1110px;
        }

        #useDiv {
            position: absolute;
            top: 650px;
            left: 0px;
            height: 450px;
            width: 1430px;
            background-color: yellow;
        }

        #useText {
            position: absolute;
            top: 10px;
            left: 10px;
            bottom: 10px;
            right: 10px;
            font-size: 18px;
        }

    </style>
</head>

<body>
    <div id="mdDiv" >
        <textarea id="mdText"></textarea>
        <button id="mdBtn"> preview </button>
        <script>
            $('#mdText').val('# header1\n## header2\n### header3\n\n---\n\n[Q] 1 + 1 = ?\n[A] 1\n[A#] 2\n[A] 3\n[A] 4');
            $('#mdBtn').click(function(){
                $.post("http://52.27.9.64:60000/preview", {data: $('#mdText').val()}, function(data) {
                    console.log(data);
                    putHtml2iframe('htmlFrame', data);
                });
                putHtml2iframe('htmlFrame', '');
            });
        </script>
    </div>

    <div id="htmlDiv">
        <iframe id="htmlFrame"></iframe>
    </div>

    <div id="useDiv">
        <div id="useText">
            <h1 align="center" style="margin-top:3px;"> 語法說明 </h1>
            <h3 style="margin-top:3px;"> # header1</h3>
            <h3 style="margin-top:3px;"> ## header2</h3>
            <h3 style="margin-top:3px;"> ### header3</h3>
            <h3 style="margin-top:3px;"> #### header4</h3>
        </div> 
    </div>


</body>

</html>



