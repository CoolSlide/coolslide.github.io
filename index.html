<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

    <script>
        var putHtml2iframe = function(id, html){
            var ifrm = document.getElementById(id);
            ifrm = ifrm.contentWindow ? ifrm.contentWindow : (ifrm.contentDocument.document) ? ifrm.contentDocument.document : ifrm.contentDocument;
            ifrm.document.open();
            ifrm.document.write(html);
            ifrm.document.close();
        };
    </script>

    <style>
        #mdDiv {
            position: absolute;
            top: 0px;
            left: 0px;
            height: 650px;
            width: 500px;
            background-color: blue;
        }

        #mdText {
            position: absolute;
            top: 0px;
            left: 0px;
            margin: 10px 10px 10px 10px;
            padding: 3px 3px 3px 3px;
            height: 630px;
            width: 480px;
            font-size: 18px;
        }

        #mdBtn {
            position: absolute;
            right: 20px;
            bottom: 20px;
            font-size: 18px;
        }

        #htmlDiv {
            position: absolute;
            top: 0px;
            left: 500px;
            height: 650px;
            width: 900px;
            background-color: red;
        }

        #htmlFrame {
            position: absolute;
            top: 0px;
            left: 0px;
            margin: 10px 10px 10px 10px;
            padding: 0px 0px 0px 0px;
            height: 630px;
            width: 880px;
        }

    </style>
</head>

<body>
    <div id="mdDiv" >
        <textarea id="mdText"></textarea>
        <button id="mdBtn"> preview </button>
        <script>
            $('#mdText').val('# header1\n## header2\n### header3\n\n---\n\n[Q] 1 + 1 = ?\n[A] 1\n[A#] 2\n[A] 3\n[A] 4');
            $('#mdBtn').click(function(){
                $.post("http://localhost:8888/preview", {data: $('#mdText').val()}, function(data) {
                    console.log(data);
                    putHtml2iframe('htmlFrame', data);
                });
                putHtml2iframe('htmlFrame', '');
            });
        </script>
    </div>

    <div id="htmlDiv">
        <iframe id="htmlFrame"></iframe>
    </div>


</body>

</html>



